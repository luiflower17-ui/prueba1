/* ===========================
   styles.css — versión corregida
   =========================== */

/* === Variables y paleta === */
:root{
  --color-bg: #0C0C0C;
  --color-main-bg: rgba(20,20,20,0.95);
  --color-text-light: #F8F8F8;
  --color-text-secondary: #909090;
  --color-accent: #00BFFF; /* azul por defecto */
  --color-accent-hover: #1E90FF;
  --color-divider: #333333;
  --color-card-bg: rgba(30,30,30,0.9);
  --shadow-subtle: 0 8px 30px rgba(0,0,0,0.95);
  --font-content: 'Roboto', sans-serif;
  --font-heading: 'Montserrat', sans-serif;

  --risk-zero: #2ECC71;
  --risk-low: #F1C40F;
  --risk-medium: #F39C12;
  --risk-high: #E74C3C;
}

/* Tema claro B: rojo neón */
body[data-theme="light"]{
  --color-bg: #FFFFFF;
  --color-main-bg: rgba(245,245,245,0.98);
  --color-text-light: #111111;
  --color-text-secondary: #555555;
  --color-accent: #FF3366; /* rojo neón */
  --color-accent-hover: #CC0033;
  --color-divider: #CCCCCC;
  --color-card-bg: rgba(255,255,255,1);
  --shadow-subtle: 0 4px 15px rgba(0,0,0,0.12);

  --risk-zero: #1B9C5F;
  --risk-low: #DDAA00;
  --risk-medium: #DD5500;
  --risk-high: #CC0000;

  text-shadow: none !important;
}

/* === Base === */
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:var(--font-content);background:var(--color-bg);color:var(--color-text-light);-webkit-font-smoothing:antialiased}
a{color:var(--color-accent)}
main{
  width:90%;max-width:1400px;margin:4rem auto;background:var(--color-main-bg);box-shadow:var(--shadow-subtle);border-radius:12px;border:1px solid var(--color-divider);padding-bottom:2.5rem;backdrop-filter:blur(8px);
  transition:background-color .45s,border-color .45s;
}

/* Preloader */
#preloader{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:var(--color-bg);z-index:9999;transition:opacity .5s}
#preloader.fade-out{opacity:0;pointer-events:none}
.loader{width:48px;height:48px;border-radius:50%;border:5px solid rgba(255,255,255,0.08);border-top:5px solid var(--color-accent);animation:spin 1s linear infinite;margin-bottom:12px}
@keyframes spin{to{transform:rotate(360deg)}}

/* Header */
header{display:flex;align-items:center;justify-content:space-between;padding:2rem 2.5rem;border-bottom:3px solid var(--color-accent);background:transparent}
.header-branding h1{font-family:var(--font-heading);font-weight:800;letter-spacing:.05em;margin:0;color:var(--color-accent);text-shadow:0 0 10px rgba(0,191,255,0.35);transition:text-shadow .3s}
.header-subtitle{color:var(--color-text-secondary);margin-top:6px}

/* Section titles */
.section-title{padding:1.25rem 2.5rem 0;color:var(--color-text-light);border-top:1px solid var(--color-divider);font-family:var(--font-heading)}

/* Detail panel */
#detail-panel{padding:2rem;border-radius:10px;margin:1rem 2.5rem;background:var(--color-card-bg);border:1px solid rgba(0,191,255,0.12);box-shadow:inset 0 0 25px rgba(0,0,0,0.45);max-height:65vh;overflow:auto;transition:box-shadow .4s}
/* Remove glow in light theme on detail panel */
body[data-theme="light"] #detail-panel{box-shadow:0 4px 15px rgba(0,0,0,0.08);border-color:var(--color-divider)}

/* -----------------------
   SIMULADOR
   ----------------------- */
#simulation-area{padding:24px;border-radius:12px;margin:0 0 1.5rem 0;background:rgba(10,10,10,0.9);border:2px solid var(--color-accent);transition:background-color .4s,border-color .4s}
body[data-theme="light"] #simulation-area{background:rgba(255,255,255,0.95);border-color:var(--color-accent)}

.sim-inputs{display:flex;gap:18px;flex-wrap:wrap}
.input-group{flex:1 1 220px;display:flex;flex-direction:column}
.input-group label{font-weight:700;color:var(--color-text-light);margin-bottom:6px}
.input-group i{margin-right:8px;color:var(--color-accent);transition:color .3s}
.range-value{font-size:.9rem;color:var(--color-text-secondary);margin-top:6px;text-align:right}

/* select + range base */
#alcaldia-select, input[type="range"]{
  background:var(--color-card-bg);
  border:1px solid var(--color-divider);
  color:var(--color-text-light);
  padding:10px;border-radius:6px;font-size:1rem;cursor:pointer;transition:all .3s
}
body[data-theme="light"] #alcaldia-select, body[data-theme="light"] input[type="range"]{background:var(--color-card-bg);color:var(--color-text-light)}
input[type="range"]{-webkit-appearance:none;height:10px}
input[type="range"]::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;border-radius:50%;background:var(--color-accent);cursor:pointer;margin-top:-4px}

/* Button */
#btn-calc{display:inline-block;background:var(--color-accent);color:var(--color-bg);border:none;padding:10px 16px;border-radius:8px;font-weight:700;cursor:pointer;margin-top:12px;transition:transform .18s}
#btn-calc:hover{transform:scale(1.02)}

/* Result box */
.result-box{margin-top:16px;padding:14px;border-radius:8px;background:rgba(30,30,30,0.8);border-left:5px solid var(--color-divider);display:flex;flex-direction:column;gap:6px}
body[data-theme="light"] .result-box{background:rgba(255,255,255,0.92);border-left-color:var(--color-divider)}
#sim-result-alcaldia{font-weight:700;color:var(--color-text-light)}
#riesgo-texto{font-family:var(--font-heading);font-size:1.4rem;padding:8px;border-radius:6px;color:var(--color-bg);text-align:center}
.risk-level.pending{background:var(--color-text-secondary);color:var(--color-bg)}
.risk-level.zero{background:var(--risk-zero)}
.risk-level.low{background:var(--risk-low)}
.risk-level.medium{background:var(--risk-medium)}
.risk-level.high{background:var(--risk-high)}

/* Alcaldías list */
.alcaldias-list{list-style:none;padding:0;margin:0}
.alcaldias-list li{background:var(--color-card-bg);padding:8px 12px;margin-bottom:8px;border-radius:6px;font-weight:700;position:relative;overflow:hidden}
.alcaldias-list li::before{content:'';position:absolute;left:0;top:0;height:100%;width:var(--percentage,0%);background:rgba(255,51,102,0.12);z-index:-1;transition:width .8s}
.percentage-counter{float:right;background:rgba(0,0,0,0.35);color:var(--color-accent);padding:2px 6px;border-radius:4px;font-weight:800}

/* Carousel base (keeps original feel) */
.carousel-container{padding:12px 2.5rem;position:relative;overflow:hidden}
.carousel-track{display:flex;gap:20px;transition:transform .5s}
.carousel-card{flex:0 0 330px;padding:20px;border-radius:10px;background:var(--color-card-bg);border:1px solid rgba(0,191,255,0.08);cursor:pointer;opacity:1}
.carousel-card.active-card{border-color:var(--color-accent);box-shadow:0 0 12px var(--color-accent)}
.carousel-btn{position:absolute;top:50%;transform:translateY(-50%);width:40px;height:40px;border-radius:50%;border:1px solid var(--color-accent);background:rgba(0,0,0,0.35);color:var(--color-accent);cursor:pointer;z-index:20}

/* Responsive */
@media (max-width:900px){
  .carousel-card{flex:0 0 260px}
  .sim-inputs{gap:12px}
  .input-group{flex-basis:100%}
}
