<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detecci贸n Temprana de Inundaciones</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-primary: #1a1a1a;
            --color-secondary: #2c3e50;
            --color-accent-blue: #3498db;
            --color-text-light: #ecf0f1;
            --color-bg: #1a1a1a;
            --color-card-bg: #2c3e50;
        }

        body {
            font-family: 'Space Grotesk', sans-serif;
            margin: 0;
            padding-top: 60px; /* Espacio para el header fijo */
            background-color: var(--color-bg);
            color: var(--color-text-light);
            transition: background-color 0.3s, color 0.3s;
        }

        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: var(--color-secondary);
            color: var(--color-text-light);
            padding: 10px 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            z-index: 1000;
            transition: background-color 0.3s, padding 0.3s;
        }

        header.scrolled {
            padding: 5px 20px;
            background-color: rgba(44, 62, 80, 0.95); /* Semi-opaco al hacer scroll */
        }

        header h1 {
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            font-size: 1.5em;
            color: var(--color-accent-blue);
        }

        main {
            display: flex;
            min-height: calc(100vh - 60px);
        }

        /* --- Panel de Navegaci贸n Lateral --- */
        #sidebar {
            width: 300px;
            background-color: var(--color-secondary);
            padding: 20px 0;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.5);
            flex-shrink: 0;
            overflow-y: auto;
        }

        #sidebar ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        #sidebar li {
            padding: 15px 20px;
            cursor: pointer;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: background-color 0.3s, color 0.3s;
        }

        #sidebar li:hover {
            background-color: rgba(52, 152, 219, 0.2); /* Sutil hover azul */
        }

        #sidebar li.active {
            background-color: var(--color-accent-blue);
            color: var(--color-bg);
            font-weight: bold;
        }

        /* --- Panel de Detalles de Contenido --- */
        #detail-panel {
            flex-grow: 1;
            padding: 40px;
            overflow-y: auto;
        }

        .content-section {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .content-section.active {
            display: block;
            opacity: 1;
        }

        .content-section h2 {
            font-family: 'Montserrat', sans-serif;
            color: var(--color-accent-blue);
            border-bottom: 2px solid var(--color-accent-blue);
            padding-bottom: 5px;
            margin-bottom: 20px;
        }
        
        /* --- Estilo para el Contenido Nuevo --- */
        .new-content-list {
            list-style-type: ' ';
            padding-left: 20px;
        }

        .new-content-list li {
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        .new-content-list strong {
            color: var(--color-accent-blue);
        }


        /* --- Estilos del Simulador (content-simulador) --- */
        #simulador {
            background-color: var(--color-card-bg);
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            margin: 20px 0;
        }

        .control-group {
            margin-bottom: 15px;
        }

        .control-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .control-group input[type="range"] {
            width: 100%;
            -webkit-appearance: none;
            height: 8px;
            background: #555;
            border-radius: 5px;
        }

        .control-group input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--color-accent-blue);
            cursor: pointer;
        }

        #resultado-riesgo {
            margin-top: 25px;
            padding: 15px;
            border-radius: 6px;
            text-align: center;
            font-size: 1.2em;
            font-weight: 700;
            transition: background-color 0.5s;
        }

        /* Clases de riesgo (se actualizar谩n con JS) */
        .riesgo-bajo { background-color: #27ae60; }
        .riesgo-medio { background-color: #f39c12; }
        .riesgo-alto { background-color: #e74c3c; }

        /* Estilo para los botones */
        .btn-calcular {
            background-color: var(--color-accent-blue);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }

        .btn-calcular:hover {
            background-color: #2980b9;
        }
        
        /* Contenedor de im谩genes */
        .image-container {
            margin: 20px 0;
            text-align: center;
            padding: 20px;
            background-color: var(--color-secondary);
            border-radius: 8px;
        }

        .image-container img {
            max-width: 100%;
            height: auto;
            border-radius: 4px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }

        /* Estilo para la lista de alcald铆as (simulaci贸n de barra de progreso) */
        .alcaldias-list {
            list-style: none;
            padding: 0;
        }

        .alcaldias-list li {
            padding: 8px 0;
            border-bottom: 1px dashed rgba(255, 255, 255, 0.2);
            position: relative;
        }

        .alcaldias-list li::after {
            content: attr(data-percentage) '%';
            position: absolute;
            right: 0;
            background-color: var(--color-accent-blue);
            padding: 2px 5px;
            border-radius: 3px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>

    <header>
        <h1>Sistema de Detecci贸n Temprana de Inundaciones</h1>
    </header>

    <main>
        <div id="sidebar">
            <ul>
                <li data-target="content-1" class="active">1. Introducci贸n y Problema</li>
                <li data-target="content-2">2. Metodolog铆a de Mapeo</li>
                <li data-target="content-3">3. Sensores y Recolecci贸n de Datos</li>
                <li data-target="content-4">4. Modelo de Predicci贸n (Simulador)</li>
                <li data-target="content-5">5. reas Cr铆ticas (Alcald铆as)</li>
                <li data-target="content-6">6. Interfaz de Usuario y UX</li>
                <li data-target="content-7">7. Detecci贸n Temprana e Integraci贸n</li>
                <li data-target="content-8">8. Referencias Bibliogr谩ficas</li>
                
                <li data-target="content-9">9. Evaluaci贸n de Vulnerabilidad</li>
                <li data-target="content-10">10. An谩lisis de Peligros</li>
                
                <li data-target="content-11">11. Factores Determinantes de Inundaciones</li>
                <li data-target="content-12">12. Ejemplo del Algoritmo de Predicci贸n</li>
            </ul>
        </div>

        <div id="detail-panel">
            <section id="content-1" class="content-section active">
                <h2>1. Introducci贸n y Problema</h2>
                <p>Este proyecto aborda la creciente amenaza de inundaciones urbanas mediante un sistema de detecci贸n temprana. Nuestro objetivo es minimizar el impacto en la poblaci贸n y la infraestructura de las 谩reas m谩s afectadas a nivel nacional.</p>
                <p>El problema central es la falta de una herramienta predictiva en tiempo real que integre diversas fuentes de datos (clima, topograf铆a, infraestructura) para generar alertas preventivas. La soluci贸n es una aplicaci贸n digital centrada en inundaciones en la Ciudad de M茅xico (CDMX).</p>
            </section>
            
            <section id="content-2" class="content-section">
                <h2>2. Metodolog铆a de Mapeo</h2>
                <p>La metodolog铆a se basa en la integraci贸n de Sistemas de Informaci贸n Geogr谩fica (SIG) con herramientas clave como el **Mapa Hidrogr谩fico Urbano (MHU)** de la UNAM, que visualiza la direcci贸n del flujo de agua en las calles y las redes h铆dricas. Adem谩s, se utiliza el **Atlas de Riesgos** de la CDMX como una base fundamental para identificar zonas de peligro y evaluar escenarios de afectaci贸n, permitiendo un mapeo preciso de las zonas de riesgo.</p>
            </section>
            
            <section id="content-3" class="content-section">
                <h2>3. Sensores y Recolecci贸n de Datos</h2>
                <p>Descripci贸n de los tipos de sensores utilizados (nivel de agua, pluvi贸metros, etc.) y el proceso de adquisici贸n de datos en tiempo real. La plataforma se alimenta de datos en vivo sobre precipitaci贸n pronosticada y el estado de la infraestructura de drenaje para la predicci贸n oportuna.</p>
            </section>

            <section id="content-4" class="content-section">
                <h2>4. Modelo de Predicci贸n (Simulador)</h2>
                <p>Utilizamos un modelo de regresi贸n ponderada para simular el ndice de Riesgo de Inundaci贸n (IRI). Ajuste los par谩metros para ver c贸mo var铆a el riesgo.</p>
                <div id="simulador">
                    <div class="control-group">
                        <label for="precipitacion">Nivel de Precipitaci贸n (mm/h): <span id="val-precipitacion">50</span></label>
                        <input type="range" id="precipitacion" min="0" max="100" value="50" step="1">
                    </div>
                    <div class="control-group">
                        <label for="saturacion">Saturaci贸n del Suelo (%): <span id="val-saturacion">50</span></label>
                        <input type="range" id="saturacion" min="0" max="100" value="50" step="1">
                    </div>
                    <div class="control-group">
                        <label for="infraestructura">Estado de Infraestructura (ndice de 0-100): <span id="val-infraestructura">50</span></label>
                        <input type="range" id="infraestructura" min="0" max="100" value="50" step="1">
                    </div>
                    <button class="btn-calcular" onclick="calcularRiesgo()">CALCULAR NDICE DE RIESGO</button>
                    <div id="resultado-riesgo" class="riesgo-medio">
                        Riesgo: Medio (IRI: 50.0)
                    </div>
                </div>
            </section>

            <section id="content-5" class="content-section">
                <h2>5. reas Cr铆ticas (Alcald铆as m谩s Afectadas)</h2>
                <p>Listado de las zonas con mayor incidencia de inundaciones reportadas en el 煤ltimo ciclo, seg煤n el 铆ndice de infraestructura y precipitaci贸n promedio. El porcentaje indica la frecuencia de afectaci贸n.</p>
                <ul class="alcaldias-list">
                    <li data-percentage="75">Iztapalapa</li>
                    <li data-percentage="60">Gustavo A. Madero</li>
                    <li data-percentage="50">Cuauht茅moc</li>
                    <li data-percentage="35">lvaro Obreg贸n</li>
                    <li data-percentage="20">Miguel Hidalgo</li>
                </ul>
            </section>
            
            <section id="content-6" class="content-section">
                <h2>6. Interfaz de Usuario y UX</h2>
                <p>Principios de dise帽o y usabilidad aplicados para crear una interfaz de alerta r谩pida y comprensible. La aplicaci贸n debe mostrar un **mapa de riesgo** y una lista de **puntos cr铆ticos** de manera intuitiva, facilitando la toma de decisiones tanto a ciudadanos como a autoridades.</p>
            </section>
            
            <section id="content-7" class="content-section">
                <h2>7. Detecci贸n Temprana e Integraci贸n</h2>
                <p>El sistema se enfoca en generar predicciones de riesgo **en tiempo real** mediante la combinaci贸n de las variables C, K y S del modelo. Esta detecci贸n temprana permite la integraci贸n con los sistemas de alerta a la poblaci贸n y la emisi贸n de **recomendaciones operativas** para las autoridades competentes, como Protecci贸n Civil.</p>
            </section>
            
            <section id="content-8" class="content-section">
                <h2>8. Referencias Bibliogr谩ficas</h2>
                <p>Fuentes acad茅micas y de datos utilizadas para sustentar el modelo predictivo y la metodolog铆a del proyecto.</p>
                <ul>
                    <li>[1] CONAGUA (2023). Reporte Nacional de Eventos Hidrometeorol贸gicos.</li>
                    <li>[2] Mart铆nez, J. (2022). Modelos de Riesgo H铆drico en Zonas Urbanas.</li>
                    <li>[3] Data.Gob.Mx - Registros de Precipitaci贸n Hist贸rica.</li>
                </ul>
            </section>
            
            <section id="content-9" class="content-section">
                <h2>9. Evaluaci贸n de Vulnerabilidad</h2>
                <p>Secci贸n dedicada a los factores socioecon贸micos y demogr谩ficos que aumentan la susceptibilidad de las comunidades a sufrir da帽os por inundaciones. Esto incluye densidad poblacional, tipo de vivienda y accesibilidad a servicios de emergencia.</p>
                
                <div class="image-container">
                    <img src="img/vulnerabilidad.jpg" alt="Gr谩fico de Vulnerabilidad Socioecon贸mica por Inundaci贸n">
                </div>
                
                <p>El an谩lisis de vulnerabilidad permite dirigir los recursos de ayuda de manera m谩s eficiente.</p>
            </section>

            <section id="content-10" class="content-section">
                <h2>10. An谩lisis de Peligros</h2>
                <p>Esta secci贸n detalla los riesgos f铆sicos y naturales que contribuyen a las inundaciones, como la topograf铆a del terreno, la cercan铆a a cuerpos de agua y el historial de eventos meteorol贸gicos extremos.</p>
                <div class="image-container">
                    <img src="img/peligros.png" alt="Mapa de Zonas de Alto Peligro de Inundaci贸n">
                </div>
                <p>El mapa de peligros es fundamental para la planificaci贸n urbana y la mitigaci贸n de riesgos a largo plazo.</p>
            </section>
            
            <section id="content-11" class="content-section">
                <h2>11. Factores Determinantes de Inundaciones</h2>
                <p>Informaci贸n clave sobre la problem谩tica de las inundaciones en la CDMX, extra铆da del documento "Protot铆pico Avance D2.docx.pdf" (sin modificar datos):</p>
                <ul class="new-content-list">
                    <li>**Ubicaci贸n Geogr谩fica:** La ciudad es una **cuenca cerrada** y su suelo lacustre tiene **poca absorci贸n de agua**.</li>
                    <li>**Obstrucci贸n por Residuos S贸lidos:** La acumulaci贸n de basura en la v铆a p煤blica es una de las principales causas. Se estima que **m谩s del 50% de las inundaciones urbanas** se relacionan directamente con la basura.</li>
                    <li>**Impermeabilizaci贸n del Suelo:** El crecimiento urbano ha provocado el aumento de la escorrent铆a superficial.</li>
                    <li>**Hundimiento de la Ciudad (Subsidencia):** Causado por la sobre extracci贸n de agua subterr谩nea. El Atlas de Riesgos clasifica 谩reas en nivel **rojo** que se hunden de **21 hasta 30 cent铆metros al a帽o**.</li>
                    <li>**Colapso del Sistema de Drenaje:** El sistema de drenaje ha sido **rebasado** por las lluvias intensas.</li>
                </ul>
                <div class="image-container">
                    <img src="img/factores_determinantes.jpg" alt="Ilustraci贸n de Factores Determinantes de Inundaci贸n">
                </div>
            </section>
            
            <section id="content-12" class="content-section">
                <h2>12. Ejemplo del Algoritmo de Predicci贸n</h2>
                <p>El modelo de predicci贸n de riesgo utiliza las siguientes variables de entrada (C, K, S), tal como se detalla en el documento, para generar el puntaje de riesgo:</p>
                <ul class="new-content-list">
                    <li>**Lluvia Pronosticada (C)**</li>
                    <li>**Capacidad Efectiva de la Zona (K):** Incluye red de drenaje, obstrucci贸n y subsidencia.</li>
                    <li>**Severidad (S):** Mide la exposici贸n de la infraestructura (Metro, v铆as clave).</li>
                </ul>
                <p>Las salidas de datos del algoritmo incluyen un **mapa de riesgo**, una lista de **puntos cr铆ticos** y **recomendaciones operativas**.</p>
            </section>

        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const sidebar = document.getElementById('sidebar');
            const detailPanel = document.getElementById('detail-panel');
            const navItems = sidebar.querySelectorAll('li');
            const sections = detailPanel.querySelectorAll('.content-section');
            const header = document.querySelector('header');

            // Funci贸n de cambio de secci贸n
            const switchContent = (targetId) => {
                // 1. Quitar 'active' de todos los elementos
                navItems.forEach(item => item.classList.remove('active'));
                sections.forEach(section => section.classList.remove('active'));

                // 2. A帽adir 'active' al elemento de navegaci贸n clickeado
                const activeNavItem = sidebar.querySelector(`[data-target="${targetId}"]`);
                if (activeNavItem) {
                    activeNavItem.classList.add('active');
                }

                // 3. Mostrar la secci贸n de contenido
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    targetSection.classList.add('active');
                }
            };

            // Event listener para la navegaci贸n
            navItems.forEach(item => {
                item.addEventListener('click', () => {
                    const targetId = item.getAttribute('data-target');
                    switchContent(targetId);
                });
            });

            // Listener para el efecto de scroll en el header
            window.addEventListener('scroll', () => {
                if (window.scrollY > 0) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });

            // Inicializaci贸n al cargar: mostrar la primera secci贸n activa
            switchContent('content-1');
        });

        // L贸gica del Simulador (Funci贸n de c谩lculo de riesgo)
        function calcularRiesgo() {
            const prec = parseFloat(document.getElementById('precipitacion').value);
            const sat = parseFloat(document.getElementById('saturacion').value);
            const infra = parseFloat(document.getElementById('infraestructura').value);

            // Pesos asignados: Precipitaci贸n 40%, Saturaci贸n 35%, Infraestructura 25%
            const peso_prec = 0.40;
            const peso_sat = 0.35;
            const peso_infra = 0.25;

            // C谩lculo del ndice de Riesgo de Inundaci贸n (IRI)
            const iri = (prec * peso_prec) + (sat * peso_sat) + (infra * peso_infra);
            const resultadoDiv = document.getElementById('resultado-riesgo');
            
            // Eliminaci贸n de clases de riesgo previas
            resultadoDiv.classList.remove('riesgo-bajo', 'riesgo-medio', 'riesgo-alto');

            let nivelRiesgo = 'Bajo';
            if (iri > 65) {
                nivelRiesgo = 'Alto';
                resultadoDiv.classList.add('riesgo-alto');
            } else if (iri > 40) {
                nivelRiesgo = 'Medio';
                resultadoDiv.classList.add('riesgo-medio');
            } else {
                resultadoDiv.classList.add('riesgo-bajo');
            }

            resultadoDiv.innerHTML = `Riesgo: ${nivelRiesgo} (IRI: ${iri.toFixed(1)})`;
        }

        // Actualizar valores de rango al mover el slider
        document.querySelectorAll('input[type="range"]').forEach(input => {
            input.addEventListener('input', (e) => {
                document.getElementById(`val-${e.target.id}`).textContent = e.target.value;
            });
        });
    </script>
</body>
</html>
